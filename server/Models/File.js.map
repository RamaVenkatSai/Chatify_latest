{"version":3,"sources":["server/Models/File.js"],"names":["Schema","File","name","type","String","required","mimeType","default","size","Number","created","Date","now","method","statics","add","reqBody","file","save","edit","reqParams","options","upsert","new","runValidators","findOneAndUpdate","exec","transfer","param","queryParam","updateParam","promiseReturn","modelName","_id","_user_id","avatar_url","url","_room_id","image","userQuery","findOne","lean","then","user","chat_name","full_name","message","Promise","resolve","model"],"mappings":";;;;;;AAAA;;;;AAEA;;;;AACA;;;;;;AAGA;;AAEA;;;;;;;;AAQA,IAAMA,SAAS,mBAASA,MAAxB;;AAGA,IAAMC,OAAO,IAAID,MAAJ,CAAW;AACtBE,QAAM;AACJC,UAAMC,MADF;AAEJC,cAAU,CAAC,IAAD,EAAO,uBAAP;AAFN,GADgB;AAKtBC,YAAU;AACRH,UAAMC,MADE;AAERG,aAAS;AAFD,GALY;AAStBC,QAAM;AACJL,UAAMM,MADF;AAEJF,aAAS;AAFL,GATgB;AAatBG,WAAS;AACPP,UAAMQ,IADC;AAEPJ,aAASI,KAAKC;AAFP;AAba,CAAX,CAAb;;AAoBA;;;;;;;AAOA;;;AAGAX,KAAKY,MAAL,CAAY,EAAZ;;AAGA;;;AAGAZ,KAAKa,OAAL,GAAe;AACb;;;;;AAKAC,KANa,eAMTC,OANS,EAMA;AACX,QAAMC,OAAO,IAAI,IAAJ,CAASD,OAAT,CAAb;AACA,WAAOC,KAAKC,IAAL,EAAP;AACD,GATY;AAWbC,MAXa,gBAWRC,SAXQ,EAWGJ,OAXH,EAWY;AACvB,QAAMK,UAAU;AACdC,cAAQ,IADM;AAEdC,WAAK,IAFS;AAGdC,qBAAe;AAHD,KAAhB;AAKA,WAAO,KAAKC,gBAAL,CAAsBL,SAAtB,EAAiCJ,OAAjC,EAA0CK,OAA1C,EAAmDK,IAAnD,EAAP;AACD,GAlBY;;;AAoBb;;;;;;;;;AASAC,UA7Ba,oBA6BJC,KA7BI,EA6BG;AACd,QAAIC,mBAAJ;AACA,QAAIC,oBAAJ;AACA,QAAIC,sBAAJ;;AAEA,QAAIH,MAAMI,SAAN,KAAoB,MAAxB,EAAgC;AAC9BH,mBAAa;AACXI,aAAKL,MAAMC,UAAN,CAAiBK;AADX,OAAb;AAGAJ,oBAAc;AACZK,oBAAYP,MAAMX,IAAN,CAAWmB;AADX,OAAd;AAGAL,sBAAgB,eAAKZ,IAAL,CAAUU,UAAV,EAAsBC,WAAtB,CAAhB;AACD;AACD,QAAIF,MAAMI,SAAN,KAAoB,MAAxB,EAAgC;AAC9BH,mBAAa;AACXI,aAAKL,MAAMC,UAAN,CAAiBQ;AADX,OAAb;AAGAP,oBAAc;AACZQ,eAAOV,MAAMX,IAAN,CAAWmB;AADN,OAAd;AAGAL,sBAAgB,eAAKZ,IAAL,CAAUU,UAAV,EAAsBC,WAAtB,CAAhB;AACD;AACD,QAAIF,MAAMI,SAAN,KAAoB,SAAxB,EAAmC;AACjC,UAAMO,YAAY;AAChBN,aAAKL,MAAMC,UAAN,CAAiBK;AADN,OAAlB;AAGA;AACAH,sBAAgB,eAAKS,OAAL,CAAaD,SAAb,EACKE,IADL,GAEKf,IAFL,GAGKgB,IAHL,CAGU,UAACC,IAAD,EAAU;AACd;AACA,YAAMvB,YAAY;AAChBc,oBAAU;AACRD,iBAAKU,KAAKV,GADF;AAERW,uBAAWD,KAAKC,SAFR;AAGRC,uBAAWF,KAAKE,SAHR;AAIRV,wBAAYQ,KAAKR;AAJT,WADM;AAOhBS,qBAAWD,KAAKC,SAPA;AAQhBE,mBAASlB,MAAMX,IAAN,CAAWmB,GARJ;AAShBjC,gBAAMyB,MAAMX,IAAN,CAAWX;AATD,SAAlB;AAWA,eAAOyC,QAAQC,OAAR,CAAgB5B,SAAhB,CAAP;AACD,OAjBL,CAAhB;AAkBD;;AAED,WAAOW,aAAP;AACD;AA9EY,CAAf;;AAkFA;;;kBAGe,mBAASkB,KAAT,CAAe,MAAf,EAAuBhD,IAAvB,C","file":"File.js","sourceRoot":"../../../../.."}